import{s as ie,r as be,e as T,c as z,b as A,g as d,i as I,O as de,j as k,u as ve,v as ke,w as ye,m as Le,a3 as at,x as ce,a4 as Ke,k as b,F as Te,a5 as Q,G as ge,D as bt,a6 as vt,y as Z,a7 as Fe,n as ut,a as P,t as D,h as ue,f as E,d as O,l as oe,H as kt,A as yt}from"../chunks/scheduler.DzfvL7Ic.js";import{S as me,i as _e,t as y,b as S,f as he,c as B,a as J,m as q,e as R,g as ze,d as pe}from"../chunks/index.xHAgODIe.js";import{m as Ct,L as ct,d as Be,f as St,h as Qe,G as We,M as wt,i as Xe,b as It,e as xe,u as Lt,j as Tt,c as zt,o as pt,P as mt}from"../chunks/utils.Cjhr7w3D.js";function Mt(o){let e,l;const t=o[7].default,n=be(t,o,o[6],null);return{c(){e=T("div"),n&&n.c(),this.h()},l(i){e=z(i,"DIV",{class:!0});var r=A(e);n&&n.l(r),r.forEach(d),this.h()},h(){I(e,"class",o[1]),de(e,"maplibregl-ctrl",o[0])},m(i,r){k(i,e,r),n&&n.m(e,null),o[8](e),l=!0},p(i,[r]){n&&n.p&&(!l||r&64)&&ve(n,t,i,i[6],l?ye(t,i[6],r,null):ke(i[6]),null),(!l||r&2)&&I(e,"class",i[1]),(!l||r&3)&&de(e,"maplibregl-ctrl",i[0])},i(i){l||(y(n,i),l=!0)},o(i){S(n,i),l=!1},d(i){i&&d(e),n&&n.d(i),o[8](null)}}}function Nt(o,e,l){let t,{$$slots:n={},$$scope:i}=e,{defaultStyling:r=!0}=e,{position:s="top-right"}=e,{class:f=void 0}=e;const{map:_}=Ct();Le(o,_,c=>l(5,t=c));let u,C={onAdd(){return u},onRemove(){var c;(c=u==null?void 0:u.parentNode)==null||c.removeChild(u)}};at(()=>{t==null||t.removeControl(C)});function p(c){ce[c?"unshift":"push"](()=>{u=c,l(2,u)})}return o.$$set=c=>{"defaultStyling"in c&&l(0,r=c.defaultStyling),"position"in c&&l(4,s=c.position),"class"in c&&l(1,f=c.class),"$$scope"in c&&l(6,i=c.$$scope)},o.$$.update=()=>{o.$$.dirty&52&&t&&u&&t.addControl(C,s)},[r,f,u,_,s,t,i,n,p]}class Pt extends me{constructor(e){super(),_e(this,e,Nt,Mt,ie,{defaultStyling:0,position:4,class:1})}}function Et(o){let e,l,t,n,i,r;const s=o[5].default,f=be(s,o,o[4],null);return{c(){e=T("button"),l=T("div"),f&&f.c(),this.h()},l(_){e=z(_,"BUTTON",{type:!0,title:!0});var u=A(e);l=z(u,"DIV",{class:!0});var C=A(l);f&&f.l(C),C.forEach(d),u.forEach(d),this.h()},h(){I(l,"class",t=Ke(o[3])+" svelte-1s83zbq"),de(l,"maplibregl-ctrl-icon",o[0]),de(l,"ctrl-btn-center",o[1]),I(e,"type","button"),I(e,"title",o[2])},m(_,u){k(_,e,u),b(e,l),f&&f.m(l,null),n=!0,i||(r=Te(e,"click",o[6]),i=!0)},p(_,[u]){f&&f.p&&(!n||u&16)&&ve(f,s,_,_[4],n?ye(s,_[4],u,null):ke(_[4]),null),(!n||u&8&&t!==(t=Ke(_[3])+" svelte-1s83zbq"))&&I(l,"class",t),(!n||u&9)&&de(l,"maplibregl-ctrl-icon",_[0]),(!n||u&10)&&de(l,"ctrl-btn-center",_[1]),(!n||u&4)&&I(e,"title",_[2])},i(_){n||(y(f,_),n=!0)},o(_){S(f,_),n=!1},d(_){_&&d(e),f&&f.d(_),i=!1,r()}}}function Ht(o,e,l){let{$$slots:t={},$$scope:n}=e,{icon:i=!0}=e,{center:r=!0}=e,{title:s=void 0}=e,{class:f=void 0}=e;function _(u){Q.call(this,o,u)}return o.$$set=u=>{"icon"in u&&l(0,i=u.icon),"center"in u&&l(1,r=u.center),"title"in u&&l(2,s=u.title),"class"in u&&l(3,f=u.class),"$$scope"in u&&l(4,n=u.$$scope)},[i,r,s,f,n,t,_]}class Dt extends me{constructor(e){super(),_e(this,e,Ht,Et,ie,{icon:0,center:1,title:2,class:3})}}function Ot(o){let e,l,t;const n=o[2].default,i=be(n,o,o[1],null);return{c(){e=T("div"),i&&i.c(),this.h()},l(r){e=z(r,"DIV",{class:!0});var s=A(e);i&&i.l(s),s.forEach(d),this.h()},h(){I(e,"class",l="maplibregl-ctrl-group "+o[0])},m(r,s){k(r,e,s),i&&i.m(e,null),t=!0},p(r,[s]){i&&i.p&&(!t||s&2)&&ve(i,n,r,r[1],t?ye(n,r[1],s,null):ke(r[1]),null),(!t||s&1&&l!==(l="maplibregl-ctrl-group "+r[0]))&&I(e,"class",l)},i(r){t||(y(i,r),t=!0)},o(r){S(i,r),t=!1},d(r){r&&d(e),i&&i.d(r)}}}function jt(o,e,l){let{$$slots:t={},$$scope:n}=e,{class:i=""}=e;return o.$$set=r=>{"class"in r&&l(0,i=r.class),"$$scope"in r&&l(1,n=r.$$scope)},[i,n,t]}class At extends me{constructor(e){super(),_e(this,e,jt,Ot,ie,{class:0})}}function Vt(o){let e;const l=o[15].default,t=be(l,o,o[23],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,i){t&&t.m(n,i),e=!0},p(n,i){t&&t.p&&(!e||i&8388608)&&ve(t,l,n,n[23],e?ye(l,n[23],i,null):ke(n[23]),null)},i(n){e||(y(t,n),e=!0)},o(n){S(t,n),e=!1},d(n){t&&t.d(n)}}}function Gt(o){let e,l,t;function n(r){o[16](r)}let i={id:o[1],type:"fill",source:o[2],sourceLayer:o[3],beforeId:o[4],beforeLayerType:o[5],paint:o[6],layout:o[7],filter:o[8],minzoom:o[9],maxzoom:o[10],hoverCursor:o[11],manageHoverState:o[12],eventsIfTopMost:o[13],interactive:o[14],$$slots:{default:[Vt]},$$scope:{ctx:o}};return o[0]!==void 0&&(i.hovered=o[0]),e=new ct({props:i}),ce.push(()=>he(e,"hovered",n)),e.$on("click",o[17]),e.$on("dblclick",o[18]),e.$on("contextmenu",o[19]),e.$on("mouseenter",o[20]),e.$on("mousemove",o[21]),e.$on("mouseleave",o[22]),{c(){B(e.$$.fragment)},l(r){J(e.$$.fragment,r)},m(r,s){q(e,r,s),t=!0},p(r,[s]){const f={};s&2&&(f.id=r[1]),s&4&&(f.source=r[2]),s&8&&(f.sourceLayer=r[3]),s&16&&(f.beforeId=r[4]),s&32&&(f.beforeLayerType=r[5]),s&64&&(f.paint=r[6]),s&128&&(f.layout=r[7]),s&256&&(f.filter=r[8]),s&512&&(f.minzoom=r[9]),s&1024&&(f.maxzoom=r[10]),s&2048&&(f.hoverCursor=r[11]),s&4096&&(f.manageHoverState=r[12]),s&8192&&(f.eventsIfTopMost=r[13]),s&16384&&(f.interactive=r[14]),s&8388608&&(f.$$scope={dirty:s,ctx:r}),!l&&s&1&&(l=!0,f.hovered=r[0],ge(()=>l=!1)),e.$set(f)},i(r){t||(y(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){R(e,r)}}}function Ft(o,e,l){let{$$slots:t={},$$scope:n}=e,{id:i=Be("fill")}=e,{source:r=void 0}=e,{sourceLayer:s=void 0}=e,{beforeId:f=void 0}=e,{beforeLayerType:_=void 0}=e,{paint:u}=e,{layout:C=void 0}=e,{filter:p=void 0}=e,{minzoom:c=void 0}=e,{maxzoom:m=void 0}=e,{hoverCursor:v=void 0}=e,{manageHoverState:V=!1}=e,{hovered:N=null}=e,{eventsIfTopMost:G=!1}=e,{interactive:H=!0}=e;function Y(a){N=a,l(0,N)}function j(a){Q.call(this,o,a)}function M(a){Q.call(this,o,a)}function U(a){Q.call(this,o,a)}function g(a){Q.call(this,o,a)}function $(a){Q.call(this,o,a)}function L(a){Q.call(this,o,a)}return o.$$set=a=>{"id"in a&&l(1,i=a.id),"source"in a&&l(2,r=a.source),"sourceLayer"in a&&l(3,s=a.sourceLayer),"beforeId"in a&&l(4,f=a.beforeId),"beforeLayerType"in a&&l(5,_=a.beforeLayerType),"paint"in a&&l(6,u=a.paint),"layout"in a&&l(7,C=a.layout),"filter"in a&&l(8,p=a.filter),"minzoom"in a&&l(9,c=a.minzoom),"maxzoom"in a&&l(10,m=a.maxzoom),"hoverCursor"in a&&l(11,v=a.hoverCursor),"manageHoverState"in a&&l(12,V=a.manageHoverState),"hovered"in a&&l(0,N=a.hovered),"eventsIfTopMost"in a&&l(13,G=a.eventsIfTopMost),"interactive"in a&&l(14,H=a.interactive),"$$scope"in a&&l(23,n=a.$$scope)},[N,i,r,s,f,_,u,C,p,c,m,v,V,G,H,t,Y,j,M,U,g,$,L,n]}class Bt extends me{constructor(e){super(),_e(this,e,Ft,Gt,ie,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}function Jt(o,e,l,t,n){let i=!1;o.getSource(e)&&(i=!0,o.removeSource(e));const r=()=>{t(e)&&(o.addSource(e,l),n())};if(i){const s=()=>{e&&(o.getSource(e)?setTimeout(s,1):r())};s()}else r()}function qt(o,e,l){bt().then(()=>{let t=vt(o);if(!t)return;t.getSource(e)===l&&t.removeSource(e)})}function $e(o){let e=o[0],l,t,n=et(o);return{c(){n.c(),l=Z()},l(i){n.l(i),l=Z()},m(i,r){n.m(i,r),k(i,l,r),t=!0},p(i,r){r&1&&ie(e,e=i[0])?(ze(),S(n,1,1,ut),pe(),n=et(i),n.c(),y(n,1),n.m(l.parentNode,l)):n.p(i,r)},i(i){t||(y(n),t=!0)},o(i){S(n),t=!1},d(i){i&&d(l),n.d(i)}}}function et(o){let e;const l=o[19].default,t=be(l,o,o[18],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,i){t&&t.m(n,i),e=!0},p(n,i){t&&t.p&&(!e||i&262144)&&ve(t,l,n,n[18],e?ye(l,n[18],i,null):ke(n[18]),null)},i(n){e||(y(t,n),e=!0)},o(n){S(t,n),e=!1},d(n){t&&t.d(n)}}}function Rt(o){let e,l,t=o[0]&&$e(o);return{c(){t&&t.c(),e=Z()},l(n){t&&t.l(n),e=Z()},m(n,i){t&&t.m(n,i),k(n,e,i),l=!0},p(n,[i]){n[0]?t?(t.p(n,i),i&1&&y(t,1)):(t=$e(n),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(ze(),S(t,1,1,()=>{t=null}),pe())},i(n){l||(y(t),l=!0)},o(n){S(t),l=!1},d(n){n&&d(e),t&&t.d(n)}}}function Ut(o,e,l){let t,n,i,{$$slots:r={},$$scope:s}=e,{id:f=Be("geojson")}=e,{data:_}=e,{generateId:u=!1}=e,{promoteId:C=void 0}=e,{filter:p=void 0}=e,{lineMetrics:c=void 0}=e,{cluster:m=void 0}=e,{maxzoom:v=void 0}=e,{attribution:V=void 0}=e,{buffer:N=void 0}=e,{tolerance:G=void 0}=e;const{map:H,cluster:Y,self:j}=St();Le(o,H,g=>l(17,n=g)),Le(o,Y,g=>l(20,i=g)),Le(o,j,g=>l(0,t=g));let M,U=!0;return at(()=>{t&&M&&n&&(qt(H,t,M),Fe(j,t=null,t),l(15,M=void 0))}),o.$$set=g=>{"id"in g&&l(4,f=g.id),"data"in g&&l(5,_=g.data),"generateId"in g&&l(6,u=g.generateId),"promoteId"in g&&l(7,C=g.promoteId),"filter"in g&&l(8,p=g.filter),"lineMetrics"in g&&l(9,c=g.lineMetrics),"cluster"in g&&l(10,m=g.cluster),"maxzoom"in g&&l(11,v=g.maxzoom),"attribution"in g&&l(12,V=g.attribution),"buffer"in g&&l(13,N=g.buffer),"tolerance"in g&&l(14,G=g.tolerance),"$$scope"in g&&l(18,s=g.$$scope)},o.$$.update=()=>{o.$$.dirty&1024&&Fe(Y,i=m,i),o.$$.dirty&196593&&n&&t!==f&&(Fe(j,t=f,t),Jt(n,t,Qe({type:"geojson",data:_,filter:p,lineMetrics:c,generateId:u,promoteId:C,cluster:!!m,clusterMinPoints:m==null?void 0:m.minPoints,clusterMaxZoom:m==null?void 0:m.maxZoom,clusterRadius:m==null?void 0:m.radius,clusterProperties:m==null?void 0:m.properties,maxzoom:v,attribution:V,buffer:N,tolerance:G}),g=>n&&g===t,()=>{t&&(l(15,M=n==null?void 0:n.getSource(t)),l(16,U=!0))})),o.$$.dirty&131088&&(n==null||n.on("style.load",()=>{l(15,M=n==null?void 0:n.getSource(f))})),o.$$.dirty&98336&&M&&(U?l(16,U=!1):M.setData(_)),o.$$.dirty&33792&&(M==null||M.setClusterOptions(Qe({cluster:!!m,clusterMaxZoom:m==null?void 0:m.maxZoom,clusterRadius:m==null?void 0:m.radius})))},[t,H,Y,j,f,_,u,C,p,c,m,v,V,N,G,M,U,n,s,r]}class Zt extends me{constructor(e){super(),_e(this,e,Ut,Rt,ie,{id:4,data:5,generateId:6,promoteId:7,filter:8,lineMetrics:9,cluster:10,maxzoom:11,attribution:12,buffer:13,tolerance:14})}}function Yt(o){let e;const l=o[15].default,t=be(l,o,o[23],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,i){t&&t.m(n,i),e=!0},p(n,i){t&&t.p&&(!e||i&8388608)&&ve(t,l,n,n[23],e?ye(l,n[23],i,null):ke(n[23]),null)},i(n){e||(y(t,n),e=!0)},o(n){S(t,n),e=!1},d(n){t&&t.d(n)}}}function Kt(o){let e,l,t;function n(r){o[16](r)}let i={id:o[1],type:"line",source:o[2],sourceLayer:o[3],beforeId:o[4],beforeLayerType:o[5],paint:o[6],layout:o[7],filter:o[8],minzoom:o[9],maxzoom:o[10],hoverCursor:o[11],manageHoverState:o[12],eventsIfTopMost:o[13],interactive:o[14],$$slots:{default:[Yt]},$$scope:{ctx:o}};return o[0]!==void 0&&(i.hovered=o[0]),e=new ct({props:i}),ce.push(()=>he(e,"hovered",n)),e.$on("click",o[17]),e.$on("dblclick",o[18]),e.$on("contextmenu",o[19]),e.$on("mouseenter",o[20]),e.$on("mousemove",o[21]),e.$on("mouseleave",o[22]),{c(){B(e.$$.fragment)},l(r){J(e.$$.fragment,r)},m(r,s){q(e,r,s),t=!0},p(r,[s]){const f={};s&2&&(f.id=r[1]),s&4&&(f.source=r[2]),s&8&&(f.sourceLayer=r[3]),s&16&&(f.beforeId=r[4]),s&32&&(f.beforeLayerType=r[5]),s&64&&(f.paint=r[6]),s&128&&(f.layout=r[7]),s&256&&(f.filter=r[8]),s&512&&(f.minzoom=r[9]),s&1024&&(f.maxzoom=r[10]),s&2048&&(f.hoverCursor=r[11]),s&4096&&(f.manageHoverState=r[12]),s&8192&&(f.eventsIfTopMost=r[13]),s&16384&&(f.interactive=r[14]),s&8388608&&(f.$$scope={dirty:s,ctx:r}),!l&&s&1&&(l=!0,f.hovered=r[0],ge(()=>l=!1)),e.$set(f)},i(r){t||(y(e.$$.fragment,r),t=!0)},o(r){S(e.$$.fragment,r),t=!1},d(r){R(e,r)}}}function Qt(o,e,l){let{$$slots:t={},$$scope:n}=e,{id:i=Be("line")}=e,{source:r=void 0}=e,{sourceLayer:s=void 0}=e,{beforeId:f=void 0}=e,{beforeLayerType:_=void 0}=e,{paint:u}=e,{layout:C=void 0}=e,{filter:p=void 0}=e,{minzoom:c=void 0}=e,{maxzoom:m=void 0}=e,{hoverCursor:v=void 0}=e,{manageHoverState:V=!1}=e,{hovered:N=null}=e,{eventsIfTopMost:G=!1}=e,{interactive:H=!0}=e;function Y(a){N=a,l(0,N)}function j(a){Q.call(this,o,a)}function M(a){Q.call(this,o,a)}function U(a){Q.call(this,o,a)}function g(a){Q.call(this,o,a)}function $(a){Q.call(this,o,a)}function L(a){Q.call(this,o,a)}return o.$$set=a=>{"id"in a&&l(1,i=a.id),"source"in a&&l(2,r=a.source),"sourceLayer"in a&&l(3,s=a.sourceLayer),"beforeId"in a&&l(4,f=a.beforeId),"beforeLayerType"in a&&l(5,_=a.beforeLayerType),"paint"in a&&l(6,u=a.paint),"layout"in a&&l(7,C=a.layout),"filter"in a&&l(8,p=a.filter),"minzoom"in a&&l(9,c=a.minzoom),"maxzoom"in a&&l(10,m=a.maxzoom),"hoverCursor"in a&&l(11,v=a.hoverCursor),"manageHoverState"in a&&l(12,V=a.manageHoverState),"hovered"in a&&l(0,N=a.hovered),"eventsIfTopMost"in a&&l(13,G=a.eventsIfTopMost),"interactive"in a&&l(14,H=a.interactive),"$$scope"in a&&l(23,n=a.$$scope)},[N,i,r,s,f,_,u,C,p,c,m,v,V,G,H,t,Y,j,M,U,g,$,L,n]}class Wt extends me{constructor(e){super(),_e(this,e,Qt,Kt,ie,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}function tt(o,e,l){const t=o.slice();return t[23]=e[l].lngLat,t[24]=e[l].label,t[25]=e[l].name,t[27]=l,t}function lt(o){var l;const e=(l=o[28])==null?void 0:l.properties;o[29]=e}function Xt(o){let e,l,t,n=o[30]&&nt(),i=o[1]&&ot(),r=o[2]&&it(o);return{c(){n&&n.c(),e=P(),i&&i.c(),l=P(),r&&r.c(),t=Z()},l(s){n&&n.l(s),e=E(s),i&&i.l(s),l=E(s),r&&r.l(s),t=Z()},m(s,f){n&&n.m(s,f),k(s,e,f),i&&i.m(s,f),k(s,l,f),r&&r.m(s,f),k(s,t,f)},p(s,f){s[30]?n||(n=nt(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),s[1]?i||(i=ot(),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null),s[2]?r?r.p(s,f):(r=it(s),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(s){s&&(d(e),d(l),d(t)),n&&n.d(s),i&&i.d(s),r&&r.d(s)}}}function xt(o){let e;return{c(){e=D("Your browser does not support the Geolocation API.")},l(l){e=O(l,"Your browser does not support the Geolocation API.")},m(l,t){k(l,e,t)},p:ut,d(l){l&&d(e)}}}function nt(o){let e;return{c(){e=D("Loading...")},l(l){e=O(l,"Loading...")},m(l,t){k(l,e,t)},d(l){l&&d(e)}}}function ot(o){let e;return{c(){e=D("Success!")},l(l){e=O(l,"Success!")},m(l,t){k(l,e,t)},d(l){l&&d(e)}}}function it(o){let e,l=o[2].code+"",t,n,i=o[2].message+"",r,s;return{c(){e=D("An error occurred. Error code "),t=D(l),n=D(": "),r=D(i),s=D(".")},l(f){e=O(f,"An error occurred. Error code "),t=O(f,l),n=O(f,": "),r=O(f,i),s=O(f,".")},m(f,_){k(f,e,_),k(f,t,_),k(f,n,_),k(f,r,_),k(f,s,_)},p(f,_){_[0]&4&&l!==(l=f[2].code+"")&&oe(t,l),_[0]&4&&i!==(i=f[2].message+"")&&oe(r,i)},d(f){f&&(d(e),d(t),d(n),d(r),d(s))}}}function $t(o){let e;function l(i,r){return i[31]?xt:Xt}let t=l(o),n=t(o);return{c(){n.c(),e=Z()},l(i){n.l(i),e=Z()},m(i,r){n.m(i,r),k(i,e,r)},p(i,r){t===(t=l(i))&&n?n.p(i,r):(n.d(1),n=t(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){i&&d(e),n.d(i)}}}function el(o){let e;return{c(){e=D("Fit")},l(l){e=O(l,"Fit")},m(l,t){k(l,e,t)},d(l){l&&d(e)}}}function tl(o){let e,l;return e=new Dt({props:{$$slots:{default:[el]},$$scope:{ctx:o}}}),e.$on("click",o[20]),{c(){B(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const i={};n[1]&2&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function ll(o){let e,l;return e=new At({props:{$$slots:{default:[tl]},$$scope:{ctx:o}}}),{c(){B(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const i={};n[0]&33|n[1]&2&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function rt(o){let e,l;return e=new Zt({props:{id:"geojsonData",data:o[10],promoteId:"name",$$slots:{default:[il]},$$scope:{ctx:o}}}),{c(){B(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const i={};n[0]&1024&&(i.data=t[10]),n[1]&2&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function st(o){let e,l,t=o[29].name+"",n;return{c(){e=T("div"),l=T("p"),n=D(t),this.h()},l(i){e=z(i,"DIV",{class:!0});var r=A(e);l=z(r,"P",{});var s=A(l);n=O(s,t),s.forEach(d),r.forEach(d),this.h()},h(){I(e,"class","flex flex-col gap-2")},m(i,r){k(i,e,r),b(e,l),b(l,n)},p(i,r){r[0]&268435456&&t!==(t=i[29].name+"")&&oe(n,t)},d(i){i&&d(e)}}}function nl(o){lt(o);let e,l=o[29]&&st(o);return{c(){l&&l.c(),e=Z()},l(t){l&&l.l(t),e=Z()},m(t,n){l&&l.m(t,n),k(t,e,n)},p(t,n){lt(t),t[29]?l?l.p(t,n):(l=st(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){t&&d(e),l&&l.d(t)}}}function ol(o){let e,l;return e=new mt({props:{openOn:"hover",$$slots:{default:[nl,({data:t})=>({28:t}),({data:t})=>[t?268435456:0]]},$$scope:{ctx:o}}}),{c(){B(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,n){const i={};n[0]&268435456|n[1]&2&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){l||(y(e.$$.fragment,t),l=!0)},o(t){S(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function il(o){let e,l,t,n;return e=new Bt({props:{paint:{"fill-color":Tt("purple","yellow"),"fill-opacity":.3},beforeLayerType:"symbol",manageHoverState:!0,$$slots:{default:[ol]},$$scope:{ctx:o}}}),t=new Wt({props:{layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"purple","line-width":3},beforeLayerType:"symbol"}}),{c(){B(e.$$.fragment),l=P(),B(t.$$.fragment)},l(i){J(e.$$.fragment,i),l=E(i),J(t.$$.fragment,i)},m(i,r){q(e,i,r),k(i,l,r),q(t,i,r),n=!0},p(i,r){const s={};r[1]&2&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(y(e.$$.fragment,i),y(t.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),S(t.$$.fragment,i),n=!1},d(i){i&&d(l),R(e,i),R(t,i)}}}function rl(o){let e,l=o[25]+"",t;return{c(){e=T("div"),t=D(l),this.h()},l(n){e=z(n,"DIV",{class:!0});var i=A(e);t=O(i,l),i.forEach(d),this.h()},h(){I(e,"class","text-lg font-bold")},m(n,i){k(n,e,i),b(e,t)},p(n,i){i[0]&1&&l!==(l=n[25]+"")&&oe(t,l)},d(n){n&&d(e)}}}function sl(o){let e,l=o[24]+"",t,n,i,r,s;return i=new mt({props:{openOn:"hover",offset:[0,-10],$$slots:{default:[rl]},$$scope:{ctx:o}}}),{c(){e=T("span"),t=D(l),n=P(),B(i.$$.fragment),r=P()},l(f){e=z(f,"SPAN",{});var _=A(e);t=O(_,l),_.forEach(d),n=E(f),J(i.$$.fragment,f),r=E(f)},m(f,_){k(f,e,_),b(e,t),k(f,n,_),q(i,f,_),k(f,r,_),s=!0},p(f,_){(!s||_[0]&1)&&l!==(l=f[24]+"")&&oe(t,l);const u={};_[0]&1|_[1]&2&&(u.$$scope={dirty:_,ctx:f}),i.$set(u)},i(f){s||(y(i.$$.fragment,f),s=!0)},o(f){S(i.$$.fragment,f),s=!1},d(f){f&&(d(e),d(n),d(r)),R(i,f)}}}function ft(o,e){let l,t,n;return t=new zt({props:{lngLat:e[23],class:`grid h-8 w-14 place-items-center rounded-md border\r
                    border-gray-00 bg-red-200 text-black shadow-2xl\r
                    focus:outline-2 focus:outline-black`,$$slots:{default:[sl]},$$scope:{ctx:e}}}),{key:o,first:null,c(){l=Z(),B(t.$$.fragment),this.h()},l(i){l=Z(),J(t.$$.fragment,i),this.h()},h(){this.first=l},m(i,r){k(i,l,r),q(t,i,r),n=!0},p(i,r){e=i;const s={};r[0]&1&&(s.lngLat=e[23]),r[0]&1|r[1]&2&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(i){n||(y(t.$$.fragment,i),n=!0)},o(i){S(t.$$.fragment,i),n=!1},d(i){i&&d(l),R(t,i)}}}function fl(o){let e,l,t,n,i,r=[],s=new Map,f,_;e=new Pt({props:{class:"flex flex-col gap-y-2",$$slots:{default:[ll]},$$scope:{ctx:o}}}),t=new It({}),t.$on("click",o[21]);let u=o[9]&&rt(o),C=xe(o[0]);const p=c=>c[27];for(let c=0;c<C.length;c+=1){let m=tt(o,C,c),v=p(m);s.set(v,r[c]=ft(v,m))}return{c(){B(e.$$.fragment),l=P(),B(t.$$.fragment),n=P(),u&&u.c(),i=P();for(let c=0;c<r.length;c+=1)r[c].c();f=Z()},l(c){J(e.$$.fragment,c),l=E(c),J(t.$$.fragment,c),n=E(c),u&&u.l(c),i=E(c);for(let m=0;m<r.length;m+=1)r[m].l(c);f=Z()},m(c,m){q(e,c,m),k(c,l,m),q(t,c,m),k(c,n,m),u&&u.m(c,m),k(c,i,m);for(let v=0;v<r.length;v+=1)r[v]&&r[v].m(c,m);k(c,f,m),_=!0},p(c,m){const v={};m[0]&33|m[1]&2&&(v.$$scope={dirty:m,ctx:c}),e.$set(v),c[9]?u?(u.p(c,m),m[0]&512&&y(u,1)):(u=rt(c),u.c(),y(u,1),u.m(i.parentNode,i)):u&&(ze(),S(u,1,1,()=>{u=null}),pe()),m[0]&1&&(C=xe(c[0]),ze(),r=Lt(r,m,p,1,c,C,s,f.parentNode,pt,ft,f,tt),pe())},i(c){if(!_){y(e.$$.fragment,c),y(t.$$.fragment,c),y(u);for(let m=0;m<C.length;m+=1)y(r[m]);_=!0}},o(c){S(e.$$.fragment,c),S(t.$$.fragment,c),S(u);for(let m=0;m<r.length;m+=1)S(r[m]);_=!1},d(c){c&&(d(l),d(n),d(i),d(f)),R(e,c),R(t,c),u&&u.d(c);for(let m=0;m<r.length;m+=1)r[m].d(c)}}}function al(o){let e,l,t,n,i="Click button to get a one-time current position and add it to the map",r,s,f="Get geolocation",_,u,C,p,c,m,v,V,N,G,H,Y,j=JSON.stringify(o[3])+"",M,U,g,$="Note that in some browsers, you cannot repeatedly request the current location. If you need to continuously update the location, use the watch option below.",L,a,W,Je="Automatically updated position when moving",Me,ee,qe="Start watching",Ne,X,Pe,re,Ee,Ce=JSON.stringify(o[8])+"",Se,He,te,se,Re="Toggle Melbourne Suburbs",De,le,Ue="Toggle",Oe,x,je,fe,Ae,Ze;function _t(h){o[14](h)}function dt(h){o[15](h)}function gt(h){o[16](h)}let we={getPosition:o[6],options:o[11],$$slots:{default:[$t,({loading:h,notSupported:w})=>({30:h,31:w}),({loading:h,notSupported:w})=>[h?1073741824:0,w?1:0]]},$$scope:{ctx:o}};o[3]!==void 0&&(we.position=o[3]),o[1]!==void 0&&(we.success=o[1]),o[2]!==void 0&&(we.error=o[2]),u=new We({props:we}),ce.push(()=>he(u,"position",_t)),ce.push(()=>he(u,"success",dt)),ce.push(()=>he(u,"error",gt)),X=new We({props:{getPosition:o[7],options:o[11],watch:!0}}),X.$on("position",o[18]);function ht(h){o[22](h)}let Ye={center:[144.97,-37.81],class:"map flex-grow min-h-[500px]",standardControls:!0,style:"https://tiles.basemaps.cartocdn.com/gl/voyager-gl-style/style.json",zoom:14,$$slots:{default:[fl]},$$scope:{ctx:o}};return o[5]!==void 0&&(Ye.bounds=o[5]),x=new wt({props:Ye}),ce.push(()=>he(x,"bounds",ht)),{c(){e=T("div"),l=T("div"),t=T("div"),n=T("h1"),n.textContent=i,r=P(),s=T("button"),s.textContent=f,_=P(),B(u.$$.fragment),m=P(),v=T("p"),V=D("Coordinates: "),N=D(o[4]),G=P(),H=T("p"),Y=D("Position: "),M=D(j),U=P(),g=T("div"),g.textContent=$,L=P(),a=T("div"),W=T("h1"),W.textContent=Je,Me=P(),ee=T("button"),ee.textContent=qe,Ne=P(),B(X.$$.fragment),Pe=P(),re=T("p"),Ee=D("watchedPosition: "),Se=D(Ce),He=P(),te=T("div"),se=T("h1"),se.textContent=Re,De=P(),le=T("button"),le.textContent=Ue,Oe=P(),B(x.$$.fragment),this.h()},l(h){e=z(h,"DIV",{class:!0});var w=A(e);l=z(w,"DIV",{class:!0});var K=A(l);t=z(K,"DIV",{class:!0});var F=A(t);n=z(F,"H1",{class:!0,"data-svelte-h":!0}),ue(n)!=="svelte-14x8zw5"&&(n.textContent=i),r=E(F),s=z(F,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(s)!=="svelte-z1208z"&&(s.textContent=f),_=E(F),J(u.$$.fragment,F),m=E(F),v=z(F,"P",{class:!0});var ae=A(v);V=O(ae,"Coordinates: "),N=O(ae,o[4]),ae.forEach(d),G=E(F),H=z(F,"P",{class:!0});var Ve=A(H);Y=O(Ve,"Position: "),M=O(Ve,j),Ve.forEach(d),U=E(F),g=z(F,"DIV",{class:!0,"data-svelte-h":!0}),ue(g)!=="svelte-rycecv"&&(g.textContent=$),F.forEach(d),L=E(K),a=z(K,"DIV",{class:!0});var ne=A(a);W=z(ne,"H1",{class:!0,"data-svelte-h":!0}),ue(W)!=="svelte-2hrvkj"&&(W.textContent=Je),Me=E(ne),ee=z(ne,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(ee)!=="svelte-1iqxngh"&&(ee.textContent=qe),Ne=E(ne),J(X.$$.fragment,ne),Pe=E(ne),re=z(ne,"P",{class:!0});var Ge=A(re);Ee=O(Ge,"watchedPosition: "),Se=O(Ge,Ce),Ge.forEach(d),ne.forEach(d),He=E(K),te=z(K,"DIV",{class:!0});var Ie=A(te);se=z(Ie,"H1",{class:!0,"data-svelte-h":!0}),ue(se)!=="svelte-d6zbk5"&&(se.textContent=Re),De=E(Ie),le=z(Ie,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(le)!=="svelte-1xjhn5p"&&(le.textContent=Ue),Ie.forEach(d),K.forEach(d),Oe=E(w),J(x.$$.fragment,w),w.forEach(d),this.h()},h(){I(n,"class","font-bold"),I(s,"class","btn btn-neutral"),I(v,"class","break-words text-left"),I(H,"class","break-words text-left"),I(g,"class","text-center font-medium text-red-500"),I(t,"class","col-span-3 md:col-span-1 text-center"),I(W,"class","font-bold"),I(ee,"class","btn btn-neutral"),I(re,"class","break-words text-left"),I(a,"class","col-span-3 md:col-span-1 text-center"),I(se,"class","font-bold"),I(le,"class","btn btn-neutral"),I(te,"class","col-span-3 md:col-span-1 text-center"),I(l,"class","grid grid-cols-3"),I(e,"class","flex flex-col h-[calc(100vh-80px)] w-full")},m(h,w){k(h,e,w),b(e,l),b(l,t),b(t,n),b(t,r),b(t,s),b(t,_),q(u,t,null),b(t,m),b(t,v),b(v,V),b(v,N),b(t,G),b(t,H),b(H,Y),b(H,M),b(t,U),b(t,g),b(l,L),b(l,a),b(a,W),b(a,Me),b(a,ee),b(a,Ne),q(X,a,null),b(a,Pe),b(a,re),b(re,Ee),b(re,Se),b(l,He),b(l,te),b(te,se),b(te,De),b(te,le),b(e,Oe),q(x,e,null),fe=!0,Ae||(Ze=[Te(s,"click",o[13]),Te(ee,"click",o[17]),Te(le,"click",o[19])],Ae=!0)},p(h,w){const K={};w[0]&64&&(K.getPosition=h[6]),w[0]&1073741830|w[1]&3&&(K.$$scope={dirty:w,ctx:h}),!C&&w[0]&8&&(C=!0,K.position=h[3],ge(()=>C=!1)),!p&&w[0]&2&&(p=!0,K.success=h[1],ge(()=>p=!1)),!c&&w[0]&4&&(c=!0,K.error=h[2],ge(()=>c=!1)),u.$set(K),(!fe||w[0]&16)&&oe(N,h[4]),(!fe||w[0]&8)&&j!==(j=JSON.stringify(h[3])+"")&&oe(M,j);const F={};w[0]&128&&(F.getPosition=h[7]),X.$set(F),(!fe||w[0]&256)&&Ce!==(Ce=JSON.stringify(h[8])+"")&&oe(Se,Ce);const ae={};w[0]&1569|w[1]&2&&(ae.$$scope={dirty:w,ctx:h}),!je&&w[0]&32&&(je=!0,ae.bounds=h[5],ge(()=>je=!1)),x.$set(ae)},i(h){fe||(y(u.$$.fragment,h),y(X.$$.fragment,h),y(x.$$.fragment,h),fe=!0)},o(h){S(u.$$.fragment,h),S(X.$$.fragment,h),S(x.$$.fragment,h),fe=!1},d(h){h&&d(e),R(u),R(X),R(x),Ae=!1,kt(Ze)}}}function ul(o,e,l){let t=[{lngLat:{lng:144.98,lat:-37.805},label:"Marker 1",name:"This is a marker"},{lngLat:{lng:144.98,lat:-37.81},label:"Marker 2",name:"This is a marker"},{lngLat:{lng:144.96,lat:-37.81},label:"Marker 3",name:"This is a marker"}],n=Xe(t);const i={enableHighAccuracy:!0,timeout:1/0,maximumAge:0};let r=!1,s=!1,f="",_={},u=[],C=!1,p={};function c(L,a,W){l(0,t=[...t,{lngLat:L.detail.lngLat,label:a,name:W}])}let m=!1,v;yt(async()=>{const L=await fetch("melbourne.geojson");l(10,v=await L.json())});const V=()=>{l(6,r=!0)};function N(L){_=L,l(3,_)}function G(L){s=L,l(1,s)}function H(L){f=L,l(2,f)}const Y=()=>{l(7,C=!0)},j=L=>{l(8,p=L.detail),console.log(p)},M=()=>{l(9,m=!m)},U=()=>{l(5,n=Xe(t))},g=L=>c(L,"Added","This is an added marker");function $(L){n=L,l(5,n)}return o.$$.update=()=>{o.$$.dirty[0]&6&&(s||f)&&l(6,r=!1),o.$$.dirty[0]&27&&s&&(l(4,u=[_.coords.longitude,_.coords.latitude]),l(0,t=[...t,{lngLat:{lng:u[0],lat:u[1]},label:"Current",name:"This is the current position"}]))},[t,s,f,_,u,n,r,C,p,m,v,i,c,V,N,G,H,Y,j,M,U,g,$]}class dl extends me{constructor(e){super(),_e(this,e,ul,al,ie,{},null,[-1,-1])}}export{dl as component};
