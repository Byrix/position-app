import{s as $,r as be,e as L,c as T,b as A,g as d,i as w,O as de,j as k,u as ve,v as ke,w as ye,m as Ce,a3 as Be,x as _e,a4 as Qe,k as b,F as Le,a5 as Q,G as ge,D as vt,a6 as kt,y as Z,a7 as Fe,n as ut,a8 as yt,a as P,t as H,h as me,f as E,d as O,l as ie,I as St,A as Ct}from"../chunks/scheduler.OQqrjfzc.js";import{S as re,i as se,t as y,b as C,f as he,c as B,a as J,m as q,e as R,g as Te,d as ze}from"../chunks/index.B3-jCvVV.js";import{m as ct,L as mt,c as Je,d as pt,f as We,G as Xe,M as wt,h as xe,e as $e,u as It,i as Lt,b as Tt,o as zt,P as _t}from"../chunks/utils.D9adRaq9.js";const bo=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function Mt(l){let e,o;const t=l[7].default,n=be(t,l,l[6],null);return{c(){e=L("div"),n&&n.c(),this.h()},l(i){e=T(i,"DIV",{class:!0});var r=A(e);n&&n.l(r),r.forEach(d),this.h()},h(){w(e,"class",l[1]),de(e,"maplibregl-ctrl",l[0])},m(i,r){k(i,e,r),n&&n.m(e,null),l[8](e),o=!0},p(i,[r]){n&&n.p&&(!o||r&64)&&ve(n,t,i,i[6],o?ye(t,i[6],r,null):ke(i[6]),null),(!o||r&2)&&w(e,"class",i[1]),(!o||r&3)&&de(e,"maplibregl-ctrl",i[0])},i(i){o||(y(n,i),o=!0)},o(i){C(n,i),o=!1},d(i){i&&d(e),n&&n.d(i),l[8](null)}}}function Nt(l,e,o){let t,{$$slots:n={},$$scope:i}=e,{defaultStyling:r=!0}=e,{position:s="top-right"}=e,{class:f=void 0}=e;const{map:m}=ct();Ce(l,m,c=>o(5,t=c));let u,S={onAdd(){return u},onRemove(){var c;(c=u==null?void 0:u.parentNode)==null||c.removeChild(u)}};Be(()=>{t==null||t.removeControl(S)});function M(c){_e[c?"unshift":"push"](()=>{u=c,o(2,u)})}return l.$$set=c=>{"defaultStyling"in c&&o(0,r=c.defaultStyling),"position"in c&&o(4,s=c.position),"class"in c&&o(1,f=c.class),"$$scope"in c&&o(6,i=c.$$scope)},l.$$.update=()=>{l.$$.dirty&52&&t&&u&&t.addControl(S,s)},[r,f,u,m,s,t,i,n,M]}class Pt extends re{constructor(e){super(),se(this,e,Nt,Mt,$,{defaultStyling:0,position:4,class:1})}}function Et(l){let e,o,t,n,i,r;const s=l[5].default,f=be(s,l,l[4],null);return{c(){e=L("button"),o=L("div"),f&&f.c(),this.h()},l(m){e=T(m,"BUTTON",{type:!0,title:!0});var u=A(e);o=T(u,"DIV",{class:!0});var S=A(o);f&&f.l(S),S.forEach(d),u.forEach(d),this.h()},h(){w(o,"class",t=Qe(l[3])+" svelte-1s83zbq"),de(o,"maplibregl-ctrl-icon",l[0]),de(o,"ctrl-btn-center",l[1]),w(e,"type","button"),w(e,"title",l[2])},m(m,u){k(m,e,u),b(e,o),f&&f.m(o,null),n=!0,i||(r=Le(e,"click",l[6]),i=!0)},p(m,[u]){f&&f.p&&(!n||u&16)&&ve(f,s,m,m[4],n?ye(s,m[4],u,null):ke(m[4]),null),(!n||u&8&&t!==(t=Qe(m[3])+" svelte-1s83zbq"))&&w(o,"class",t),(!n||u&9)&&de(o,"maplibregl-ctrl-icon",m[0]),(!n||u&10)&&de(o,"ctrl-btn-center",m[1]),(!n||u&4)&&w(e,"title",m[2])},i(m){n||(y(f,m),n=!0)},o(m){C(f,m),n=!1},d(m){m&&d(e),f&&f.d(m),i=!1,r()}}}function Dt(l,e,o){let{$$slots:t={},$$scope:n}=e,{icon:i=!0}=e,{center:r=!0}=e,{title:s=void 0}=e,{class:f=void 0}=e;function m(u){Q.call(this,l,u)}return l.$$set=u=>{"icon"in u&&o(0,i=u.icon),"center"in u&&o(1,r=u.center),"title"in u&&o(2,s=u.title),"class"in u&&o(3,f=u.class),"$$scope"in u&&o(4,n=u.$$scope)},[i,r,s,f,n,t,m]}class Ht extends re{constructor(e){super(),se(this,e,Dt,Et,$,{icon:0,center:1,title:2,class:3})}}function Ot(l){let e,o,t;const n=l[2].default,i=be(n,l,l[1],null);return{c(){e=L("div"),i&&i.c(),this.h()},l(r){e=T(r,"DIV",{class:!0});var s=A(e);i&&i.l(s),s.forEach(d),this.h()},h(){w(e,"class",o="maplibregl-ctrl-group "+l[0])},m(r,s){k(r,e,s),i&&i.m(e,null),t=!0},p(r,[s]){i&&i.p&&(!t||s&2)&&ve(i,n,r,r[1],t?ye(n,r[1],s,null):ke(r[1]),null),(!t||s&1&&o!==(o="maplibregl-ctrl-group "+r[0]))&&w(e,"class",o)},i(r){t||(y(i,r),t=!0)},o(r){C(i,r),t=!1},d(r){r&&d(e),i&&i.d(r)}}}function jt(l,e,o){let{$$slots:t={},$$scope:n}=e,{class:i=""}=e;return l.$$set=r=>{"class"in r&&o(0,i=r.class),"$$scope"in r&&o(1,n=r.$$scope)},[i,n,t]}class At extends re{constructor(e){super(),se(this,e,jt,Ot,$,{class:0})}}function Vt(l){let e;const o=l[15].default,t=be(o,l,l[23],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,i){t&&t.m(n,i),e=!0},p(n,i){t&&t.p&&(!e||i&8388608)&&ve(t,o,n,n[23],e?ye(o,n[23],i,null):ke(n[23]),null)},i(n){e||(y(t,n),e=!0)},o(n){C(t,n),e=!1},d(n){t&&t.d(n)}}}function Gt(l){let e,o,t;function n(r){l[16](r)}let i={id:l[1],type:"fill",source:l[2],sourceLayer:l[3],beforeId:l[4],beforeLayerType:l[5],paint:l[6],layout:l[7],filter:l[8],minzoom:l[9],maxzoom:l[10],hoverCursor:l[11],manageHoverState:l[12],eventsIfTopMost:l[13],interactive:l[14],$$slots:{default:[Vt]},$$scope:{ctx:l}};return l[0]!==void 0&&(i.hovered=l[0]),e=new mt({props:i}),_e.push(()=>he(e,"hovered",n)),e.$on("click",l[17]),e.$on("dblclick",l[18]),e.$on("contextmenu",l[19]),e.$on("mouseenter",l[20]),e.$on("mousemove",l[21]),e.$on("mouseleave",l[22]),{c(){B(e.$$.fragment)},l(r){J(e.$$.fragment,r)},m(r,s){q(e,r,s),t=!0},p(r,[s]){const f={};s&2&&(f.id=r[1]),s&4&&(f.source=r[2]),s&8&&(f.sourceLayer=r[3]),s&16&&(f.beforeId=r[4]),s&32&&(f.beforeLayerType=r[5]),s&64&&(f.paint=r[6]),s&128&&(f.layout=r[7]),s&256&&(f.filter=r[8]),s&512&&(f.minzoom=r[9]),s&1024&&(f.maxzoom=r[10]),s&2048&&(f.hoverCursor=r[11]),s&4096&&(f.manageHoverState=r[12]),s&8192&&(f.eventsIfTopMost=r[13]),s&16384&&(f.interactive=r[14]),s&8388608&&(f.$$scope={dirty:s,ctx:r}),!o&&s&1&&(o=!0,f.hovered=r[0],ge(()=>o=!1)),e.$set(f)},i(r){t||(y(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){R(e,r)}}}function Ft(l,e,o){let{$$slots:t={},$$scope:n}=e,{id:i=Je("fill")}=e,{source:r=void 0}=e,{sourceLayer:s=void 0}=e,{beforeId:f=void 0}=e,{beforeLayerType:m=void 0}=e,{paint:u}=e,{layout:S=void 0}=e,{filter:M=void 0}=e,{minzoom:c=void 0}=e,{maxzoom:_=void 0}=e,{hoverCursor:v=void 0}=e,{manageHoverState:V=!1}=e,{hovered:N=null}=e,{eventsIfTopMost:G=!1}=e,{interactive:D=!0}=e;function Y(a){N=a,o(0,N)}function j(a){Q.call(this,l,a)}function z(a){Q.call(this,l,a)}function U(a){Q.call(this,l,a)}function g(a){Q.call(this,l,a)}function ee(a){Q.call(this,l,a)}function I(a){Q.call(this,l,a)}return l.$$set=a=>{"id"in a&&o(1,i=a.id),"source"in a&&o(2,r=a.source),"sourceLayer"in a&&o(3,s=a.sourceLayer),"beforeId"in a&&o(4,f=a.beforeId),"beforeLayerType"in a&&o(5,m=a.beforeLayerType),"paint"in a&&o(6,u=a.paint),"layout"in a&&o(7,S=a.layout),"filter"in a&&o(8,M=a.filter),"minzoom"in a&&o(9,c=a.minzoom),"maxzoom"in a&&o(10,_=a.maxzoom),"hoverCursor"in a&&o(11,v=a.hoverCursor),"manageHoverState"in a&&o(12,V=a.manageHoverState),"hovered"in a&&o(0,N=a.hovered),"eventsIfTopMost"in a&&o(13,G=a.eventsIfTopMost),"interactive"in a&&o(14,D=a.interactive),"$$scope"in a&&o(23,n=a.$$scope)},[N,i,r,s,f,m,u,S,M,c,_,v,V,G,D,t,Y,j,z,U,g,ee,I,n]}class Bt extends re{constructor(e){super(),se(this,e,Ft,Gt,$,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}function Jt(l,e,o,t,n){let i=!1;l.getSource(e)&&(i=!0,l.removeSource(e));const r=()=>{t(e)&&(l.addSource(e,o),n())};if(i){const s=()=>{e&&(l.getSource(e)?setTimeout(s,1):r())};s()}else r()}function qt(l,e,o){vt().then(()=>{let t=kt(l);if(!t)return;t.getSource(e)===o&&t.removeSource(e)})}function et(l){let e=l[0],o,t,n=tt(l);return{c(){n.c(),o=Z()},l(i){n.l(i),o=Z()},m(i,r){n.m(i,r),k(i,o,r),t=!0},p(i,r){r&1&&$(e,e=i[0])?(Te(),C(n,1,1,ut),ze(),n=tt(i),n.c(),y(n,1),n.m(o.parentNode,o)):n.p(i,r)},i(i){t||(y(n),t=!0)},o(i){C(n),t=!1},d(i){i&&d(o),n.d(i)}}}function tt(l){let e;const o=l[19].default,t=be(o,l,l[18],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,i){t&&t.m(n,i),e=!0},p(n,i){t&&t.p&&(!e||i&262144)&&ve(t,o,n,n[18],e?ye(o,n[18],i,null):ke(n[18]),null)},i(n){e||(y(t,n),e=!0)},o(n){C(t,n),e=!1},d(n){t&&t.d(n)}}}function Rt(l){let e,o,t=l[0]&&et(l);return{c(){t&&t.c(),e=Z()},l(n){t&&t.l(n),e=Z()},m(n,i){t&&t.m(n,i),k(n,e,i),o=!0},p(n,[i]){n[0]?t?(t.p(n,i),i&1&&y(t,1)):(t=et(n),t.c(),y(t,1),t.m(e.parentNode,e)):t&&(Te(),C(t,1,1,()=>{t=null}),ze())},i(n){o||(y(t),o=!0)},o(n){C(t),o=!1},d(n){n&&d(e),t&&t.d(n)}}}function Ut(l,e,o){let t,n,i,{$$slots:r={},$$scope:s}=e,{id:f=Je("geojson")}=e,{data:m}=e,{generateId:u=!1}=e,{promoteId:S=void 0}=e,{filter:M=void 0}=e,{lineMetrics:c=void 0}=e,{cluster:_=void 0}=e,{maxzoom:v=void 0}=e,{attribution:V=void 0}=e,{buffer:N=void 0}=e,{tolerance:G=void 0}=e;const{map:D,cluster:Y,self:j}=pt();Ce(l,D,g=>o(17,n=g)),Ce(l,Y,g=>o(20,i=g)),Ce(l,j,g=>o(0,t=g));let z,U=!0;return Be(()=>{t&&z&&n&&(qt(D,t,z),Fe(j,t=null,t),o(15,z=void 0))}),l.$$set=g=>{"id"in g&&o(4,f=g.id),"data"in g&&o(5,m=g.data),"generateId"in g&&o(6,u=g.generateId),"promoteId"in g&&o(7,S=g.promoteId),"filter"in g&&o(8,M=g.filter),"lineMetrics"in g&&o(9,c=g.lineMetrics),"cluster"in g&&o(10,_=g.cluster),"maxzoom"in g&&o(11,v=g.maxzoom),"attribution"in g&&o(12,V=g.attribution),"buffer"in g&&o(13,N=g.buffer),"tolerance"in g&&o(14,G=g.tolerance),"$$scope"in g&&o(18,s=g.$$scope)},l.$$.update=()=>{l.$$.dirty&1024&&Fe(Y,i=_,i),l.$$.dirty&196593&&n&&t!==f&&(Fe(j,t=f,t),Jt(n,t,We({type:"geojson",data:m,filter:M,lineMetrics:c,generateId:u,promoteId:S,cluster:!!_,clusterMinPoints:_==null?void 0:_.minPoints,clusterMaxZoom:_==null?void 0:_.maxZoom,clusterRadius:_==null?void 0:_.radius,clusterProperties:_==null?void 0:_.properties,maxzoom:v,attribution:V,buffer:N,tolerance:G}),g=>n&&g===t,()=>{t&&(o(15,z=n==null?void 0:n.getSource(t)),o(16,U=!0))})),l.$$.dirty&131088&&(n==null||n.on("style.load",()=>{o(15,z=n==null?void 0:n.getSource(f))})),l.$$.dirty&98336&&z&&(U?o(16,U=!1):z.setData(m)),l.$$.dirty&33792&&(z==null||z.setClusterOptions(We({cluster:!!_,clusterMaxZoom:_==null?void 0:_.maxZoom,clusterRadius:_==null?void 0:_.radius})))},[t,D,Y,j,f,m,u,S,M,c,_,v,V,N,G,z,U,n,s,r]}class Zt extends re{constructor(e){super(),se(this,e,Ut,Rt,$,{id:4,data:5,generateId:6,promoteId:7,filter:8,lineMetrics:9,cluster:10,maxzoom:11,attribution:12,buffer:13,tolerance:14})}}function Yt(l){let e;const o=l[15].default,t=be(o,l,l[23],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,i){t&&t.m(n,i),e=!0},p(n,i){t&&t.p&&(!e||i&8388608)&&ve(t,o,n,n[23],e?ye(o,n[23],i,null):ke(n[23]),null)},i(n){e||(y(t,n),e=!0)},o(n){C(t,n),e=!1},d(n){t&&t.d(n)}}}function Kt(l){let e,o,t;function n(r){l[16](r)}let i={id:l[1],type:"line",source:l[2],sourceLayer:l[3],beforeId:l[4],beforeLayerType:l[5],paint:l[6],layout:l[7],filter:l[8],minzoom:l[9],maxzoom:l[10],hoverCursor:l[11],manageHoverState:l[12],eventsIfTopMost:l[13],interactive:l[14],$$slots:{default:[Yt]},$$scope:{ctx:l}};return l[0]!==void 0&&(i.hovered=l[0]),e=new mt({props:i}),_e.push(()=>he(e,"hovered",n)),e.$on("click",l[17]),e.$on("dblclick",l[18]),e.$on("contextmenu",l[19]),e.$on("mouseenter",l[20]),e.$on("mousemove",l[21]),e.$on("mouseleave",l[22]),{c(){B(e.$$.fragment)},l(r){J(e.$$.fragment,r)},m(r,s){q(e,r,s),t=!0},p(r,[s]){const f={};s&2&&(f.id=r[1]),s&4&&(f.source=r[2]),s&8&&(f.sourceLayer=r[3]),s&16&&(f.beforeId=r[4]),s&32&&(f.beforeLayerType=r[5]),s&64&&(f.paint=r[6]),s&128&&(f.layout=r[7]),s&256&&(f.filter=r[8]),s&512&&(f.minzoom=r[9]),s&1024&&(f.maxzoom=r[10]),s&2048&&(f.hoverCursor=r[11]),s&4096&&(f.manageHoverState=r[12]),s&8192&&(f.eventsIfTopMost=r[13]),s&16384&&(f.interactive=r[14]),s&8388608&&(f.$$scope={dirty:s,ctx:r}),!o&&s&1&&(o=!0,f.hovered=r[0],ge(()=>o=!1)),e.$set(f)},i(r){t||(y(e.$$.fragment,r),t=!0)},o(r){C(e.$$.fragment,r),t=!1},d(r){R(e,r)}}}function Qt(l,e,o){let{$$slots:t={},$$scope:n}=e,{id:i=Je("line")}=e,{source:r=void 0}=e,{sourceLayer:s=void 0}=e,{beforeId:f=void 0}=e,{beforeLayerType:m=void 0}=e,{paint:u}=e,{layout:S=void 0}=e,{filter:M=void 0}=e,{minzoom:c=void 0}=e,{maxzoom:_=void 0}=e,{hoverCursor:v=void 0}=e,{manageHoverState:V=!1}=e,{hovered:N=null}=e,{eventsIfTopMost:G=!1}=e,{interactive:D=!0}=e;function Y(a){N=a,o(0,N)}function j(a){Q.call(this,l,a)}function z(a){Q.call(this,l,a)}function U(a){Q.call(this,l,a)}function g(a){Q.call(this,l,a)}function ee(a){Q.call(this,l,a)}function I(a){Q.call(this,l,a)}return l.$$set=a=>{"id"in a&&o(1,i=a.id),"source"in a&&o(2,r=a.source),"sourceLayer"in a&&o(3,s=a.sourceLayer),"beforeId"in a&&o(4,f=a.beforeId),"beforeLayerType"in a&&o(5,m=a.beforeLayerType),"paint"in a&&o(6,u=a.paint),"layout"in a&&o(7,S=a.layout),"filter"in a&&o(8,M=a.filter),"minzoom"in a&&o(9,c=a.minzoom),"maxzoom"in a&&o(10,_=a.maxzoom),"hoverCursor"in a&&o(11,v=a.hoverCursor),"manageHoverState"in a&&o(12,V=a.manageHoverState),"hovered"in a&&o(0,N=a.hovered),"eventsIfTopMost"in a&&o(13,G=a.eventsIfTopMost),"interactive"in a&&o(14,D=a.interactive),"$$scope"in a&&o(23,n=a.$$scope)},[N,i,r,s,f,m,u,S,M,c,_,v,V,G,D,t,Y,j,z,U,g,ee,I,n]}class Wt extends re{constructor(e){super(),se(this,e,Qt,Kt,$,{id:1,source:2,sourceLayer:3,beforeId:4,beforeLayerType:5,paint:6,layout:7,filter:8,minzoom:9,maxzoom:10,hoverCursor:11,manageHoverState:12,hovered:0,eventsIfTopMost:13,interactive:14})}}function Xt(l,e,o){let t;const n=yt();let{layer:i=void 0}=e;const{map:r}=ct();Ce(l,r,u=>o(2,t=u));function s(u){n(u.type,{...u,map:r})}const f=["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","contextmenu","mouseover","mouseout"],m=["click","dblclick","contextmenu","mousemove","movestart","moveend","zoomstart","zoom","zoomend"];return Be(()=>{if(t)if(i)for(const u of f)t.off(u,i,s);else for(const u of m)t.off(u,s)}),l.$$set=u=>{"layer"in u&&o(1,i=u.layer)},l.$$.update=()=>{if(l.$$.dirty&6&&t)if(i)for(const u of f)t.on(u,i,s);else for(const u of m)t.on(u,s)},[r,i,t]}class xt extends re{constructor(e){super(),se(this,e,Xt,null,$,{layer:1})}}function ot(l,e,o){const t=l.slice();return t[23]=e[o].lngLat,t[24]=e[o].label,t[25]=e[o].name,t[27]=o,t}function nt(l){var o;const e=(o=l[28])==null?void 0:o.properties;l[29]=e}function $t(l){let e,o,t,n=l[30]&&lt(),i=l[1]&&it(),r=l[2]&&rt(l);return{c(){n&&n.c(),e=P(),i&&i.c(),o=P(),r&&r.c(),t=Z()},l(s){n&&n.l(s),e=E(s),i&&i.l(s),o=E(s),r&&r.l(s),t=Z()},m(s,f){n&&n.m(s,f),k(s,e,f),i&&i.m(s,f),k(s,o,f),r&&r.m(s,f),k(s,t,f)},p(s,f){s[30]?n||(n=lt(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),s[1]?i||(i=it(),i.c(),i.m(o.parentNode,o)):i&&(i.d(1),i=null),s[2]?r?r.p(s,f):(r=rt(s),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(s){s&&(d(e),d(o),d(t)),n&&n.d(s),i&&i.d(s),r&&r.d(s)}}}function eo(l){let e;return{c(){e=H("Your browser does not support the Geolocation API.")},l(o){e=O(o,"Your browser does not support the Geolocation API.")},m(o,t){k(o,e,t)},p:ut,d(o){o&&d(e)}}}function lt(l){let e;return{c(){e=H("Loading...")},l(o){e=O(o,"Loading...")},m(o,t){k(o,e,t)},d(o){o&&d(e)}}}function it(l){let e;return{c(){e=H("Success!")},l(o){e=O(o,"Success!")},m(o,t){k(o,e,t)},d(o){o&&d(e)}}}function rt(l){let e,o=l[2].code+"",t,n,i=l[2].message+"",r,s;return{c(){e=H("An error occurred. Error code "),t=H(o),n=H(": "),r=H(i),s=H(".")},l(f){e=O(f,"An error occurred. Error code "),t=O(f,o),n=O(f,": "),r=O(f,i),s=O(f,".")},m(f,m){k(f,e,m),k(f,t,m),k(f,n,m),k(f,r,m),k(f,s,m)},p(f,m){m[0]&4&&o!==(o=f[2].code+"")&&ie(t,o),m[0]&4&&i!==(i=f[2].message+"")&&ie(r,i)},d(f){f&&(d(e),d(t),d(n),d(r),d(s))}}}function to(l){let e;function o(i,r){return i[31]?eo:$t}let t=o(l),n=t(l);return{c(){n.c(),e=Z()},l(i){n.l(i),e=Z()},m(i,r){n.m(i,r),k(i,e,r)},p(i,r){t===(t=o(i))&&n?n.p(i,r):(n.d(1),n=t(i),n&&(n.c(),n.m(e.parentNode,e)))},d(i){i&&d(e),n.d(i)}}}function oo(l){let e;return{c(){e=H("Fit")},l(o){e=O(o,"Fit")},m(o,t){k(o,e,t)},d(o){o&&d(e)}}}function no(l){let e,o;return e=new Ht({props:{$$slots:{default:[oo]},$$scope:{ctx:l}}}),e.$on("click",l[20]),{c(){B(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){q(e,t,n),o=!0},p(t,n){const i={};n[1]&2&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){C(e.$$.fragment,t),o=!1},d(t){R(e,t)}}}function lo(l){let e,o;return e=new At({props:{$$slots:{default:[no]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){q(e,t,n),o=!0},p(t,n){const i={};n[0]&33|n[1]&2&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){C(e.$$.fragment,t),o=!1},d(t){R(e,t)}}}function st(l){let e,o;return e=new Zt({props:{id:"geojsonData",data:l[10],promoteId:"name",$$slots:{default:[so]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){q(e,t,n),o=!0},p(t,n){const i={};n[0]&1024&&(i.data=t[10]),n[1]&2&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){C(e.$$.fragment,t),o=!1},d(t){R(e,t)}}}function ft(l){let e,o,t=l[29].name+"",n;return{c(){e=L("div"),o=L("p"),n=H(t),this.h()},l(i){e=T(i,"DIV",{class:!0});var r=A(e);o=T(r,"P",{});var s=A(o);n=O(s,t),s.forEach(d),r.forEach(d),this.h()},h(){w(e,"class","flex flex-col gap-2")},m(i,r){k(i,e,r),b(e,o),b(o,n)},p(i,r){r[0]&268435456&&t!==(t=i[29].name+"")&&ie(n,t)},d(i){i&&d(e)}}}function io(l){nt(l);let e,o=l[29]&&ft(l);return{c(){o&&o.c(),e=Z()},l(t){o&&o.l(t),e=Z()},m(t,n){o&&o.m(t,n),k(t,e,n)},p(t,n){nt(t),t[29]?o?o.p(t,n):(o=ft(t),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null)},d(t){t&&d(e),o&&o.d(t)}}}function ro(l){let e,o;return e=new _t({props:{openOn:"hover",$$slots:{default:[io,({data:t})=>({28:t}),({data:t})=>[t?268435456:0]]},$$scope:{ctx:l}}}),{c(){B(e.$$.fragment)},l(t){J(e.$$.fragment,t)},m(t,n){q(e,t,n),o=!0},p(t,n){const i={};n[0]&268435456|n[1]&2&&(i.$$scope={dirty:n,ctx:t}),e.$set(i)},i(t){o||(y(e.$$.fragment,t),o=!0)},o(t){C(e.$$.fragment,t),o=!1},d(t){R(e,t)}}}function so(l){let e,o,t,n;return e=new Bt({props:{paint:{"fill-color":Lt("purple","yellow"),"fill-opacity":.3},beforeLayerType:"symbol",manageHoverState:!0,$$slots:{default:[ro]},$$scope:{ctx:l}}}),t=new Wt({props:{layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"purple","line-width":3},beforeLayerType:"symbol"}}),{c(){B(e.$$.fragment),o=P(),B(t.$$.fragment)},l(i){J(e.$$.fragment,i),o=E(i),J(t.$$.fragment,i)},m(i,r){q(e,i,r),k(i,o,r),q(t,i,r),n=!0},p(i,r){const s={};r[1]&2&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(i){n||(y(e.$$.fragment,i),y(t.$$.fragment,i),n=!0)},o(i){C(e.$$.fragment,i),C(t.$$.fragment,i),n=!1},d(i){i&&d(o),R(e,i),R(t,i)}}}function fo(l){let e,o=l[25]+"",t;return{c(){e=L("div"),t=H(o),this.h()},l(n){e=T(n,"DIV",{class:!0});var i=A(e);t=O(i,o),i.forEach(d),this.h()},h(){w(e,"class","text-lg font-bold")},m(n,i){k(n,e,i),b(e,t)},p(n,i){i[0]&1&&o!==(o=n[25]+"")&&ie(t,o)},d(n){n&&d(e)}}}function ao(l){let e,o=l[24]+"",t,n,i,r,s;return i=new _t({props:{openOn:"hover",offset:[0,-10],$$slots:{default:[fo]},$$scope:{ctx:l}}}),{c(){e=L("span"),t=H(o),n=P(),B(i.$$.fragment),r=P()},l(f){e=T(f,"SPAN",{});var m=A(e);t=O(m,o),m.forEach(d),n=E(f),J(i.$$.fragment,f),r=E(f)},m(f,m){k(f,e,m),b(e,t),k(f,n,m),q(i,f,m),k(f,r,m),s=!0},p(f,m){(!s||m[0]&1)&&o!==(o=f[24]+"")&&ie(t,o);const u={};m[0]&1|m[1]&2&&(u.$$scope={dirty:m,ctx:f}),i.$set(u)},i(f){s||(y(i.$$.fragment,f),s=!0)},o(f){C(i.$$.fragment,f),s=!1},d(f){f&&(d(e),d(n),d(r)),R(i,f)}}}function at(l,e){let o,t,n;return t=new Tt({props:{lngLat:e[23],class:`grid h-8 w-14 place-items-center rounded-md border
                    border-gray-00 bg-red-200 text-black shadow-2xl
                    focus:outline-2 focus:outline-black`,$$slots:{default:[ao]},$$scope:{ctx:e}}}),{key:l,first:null,c(){o=Z(),B(t.$$.fragment),this.h()},l(i){o=Z(),J(t.$$.fragment,i),this.h()},h(){this.first=o},m(i,r){k(i,o,r),q(t,i,r),n=!0},p(i,r){e=i;const s={};r[0]&1&&(s.lngLat=e[23]),r[0]&1|r[1]&2&&(s.$$scope={dirty:r,ctx:e}),t.$set(s)},i(i){n||(y(t.$$.fragment,i),n=!0)},o(i){C(t.$$.fragment,i),n=!1},d(i){i&&d(o),R(t,i)}}}function uo(l){let e,o,t,n,i,r=[],s=new Map,f,m;e=new Pt({props:{class:"flex flex-col gap-y-2",$$slots:{default:[lo]},$$scope:{ctx:l}}}),t=new xt({}),t.$on("click",l[21]);let u=l[9]&&st(l),S=$e(l[0]);const M=c=>c[27];for(let c=0;c<S.length;c+=1){let _=ot(l,S,c),v=M(_);s.set(v,r[c]=at(v,_))}return{c(){B(e.$$.fragment),o=P(),B(t.$$.fragment),n=P(),u&&u.c(),i=P();for(let c=0;c<r.length;c+=1)r[c].c();f=Z()},l(c){J(e.$$.fragment,c),o=E(c),J(t.$$.fragment,c),n=E(c),u&&u.l(c),i=E(c);for(let _=0;_<r.length;_+=1)r[_].l(c);f=Z()},m(c,_){q(e,c,_),k(c,o,_),q(t,c,_),k(c,n,_),u&&u.m(c,_),k(c,i,_);for(let v=0;v<r.length;v+=1)r[v]&&r[v].m(c,_);k(c,f,_),m=!0},p(c,_){const v={};_[0]&33|_[1]&2&&(v.$$scope={dirty:_,ctx:c}),e.$set(v),c[9]?u?(u.p(c,_),_[0]&512&&y(u,1)):(u=st(c),u.c(),y(u,1),u.m(i.parentNode,i)):u&&(Te(),C(u,1,1,()=>{u=null}),ze()),_[0]&1&&(S=$e(c[0]),Te(),r=It(r,_,M,1,c,S,s,f.parentNode,zt,at,f,ot),ze())},i(c){if(!m){y(e.$$.fragment,c),y(t.$$.fragment,c),y(u);for(let _=0;_<S.length;_+=1)y(r[_]);m=!0}},o(c){C(e.$$.fragment,c),C(t.$$.fragment,c),C(u);for(let _=0;_<r.length;_+=1)C(r[_]);m=!1},d(c){c&&(d(o),d(n),d(i),d(f)),R(e,c),R(t,c),u&&u.d(c);for(let _=0;_<r.length;_+=1)r[_].d(c)}}}function co(l){let e,o,t,n,i="Click button to get a one-time current position and add it to the map",r,s,f="Get geolocation",m,u,S,M,c,_,v,V,N,G,D,Y,j=JSON.stringify(l[3])+"",z,U,g,ee="Note that in some browsers, you cannot repeatedly request the current location. If you need to continuously update the location, use the watch option below.",I,a,W,qe="Automatically updated position when moving",Me,te,Re="Start watching",Ne,X,Pe,fe,Ee,Se=JSON.stringify(l[8])+"",pe,De,oe,ae,Ue="Toggle Melbourne Suburbs",He,ne,Ze="Toggle",Oe,x,je,ue,Ae,Ye;function dt(h){l[14](h)}function gt(h){l[15](h)}function ht(h){l[16](h)}let we={getPosition:l[6],options:l[11],$$slots:{default:[to,({loading:h,notSupported:p})=>({30:h,31:p}),({loading:h,notSupported:p})=>[h?1073741824:0,p?1:0]]},$$scope:{ctx:l}};l[3]!==void 0&&(we.position=l[3]),l[1]!==void 0&&(we.success=l[1]),l[2]!==void 0&&(we.error=l[2]),u=new Xe({props:we}),_e.push(()=>he(u,"position",dt)),_e.push(()=>he(u,"success",gt)),_e.push(()=>he(u,"error",ht)),X=new Xe({props:{getPosition:l[7],options:l[11],watch:!0}}),X.$on("position",l[18]);function bt(h){l[22](h)}let Ke={center:[144.97,-37.81],class:"map flex-grow min-h-[500px]",standardControls:!0,style:"https://tiles.basemaps.cartocdn.com/gl/voyager-gl-style/style.json",zoom:14,$$slots:{default:[uo]},$$scope:{ctx:l}};return l[5]!==void 0&&(Ke.bounds=l[5]),x=new wt({props:Ke}),_e.push(()=>he(x,"bounds",bt)),{c(){e=L("div"),o=L("div"),t=L("div"),n=L("h1"),n.textContent=i,r=P(),s=L("button"),s.textContent=f,m=P(),B(u.$$.fragment),_=P(),v=L("p"),V=H("Coordinates: "),N=H(l[4]),G=P(),D=L("p"),Y=H("Position: "),z=H(j),U=P(),g=L("div"),g.textContent=ee,I=P(),a=L("div"),W=L("h1"),W.textContent=qe,Me=P(),te=L("button"),te.textContent=Re,Ne=P(),B(X.$$.fragment),Pe=P(),fe=L("p"),Ee=H("watchedPosition: "),pe=H(Se),De=P(),oe=L("div"),ae=L("h1"),ae.textContent=Ue,He=P(),ne=L("button"),ne.textContent=Ze,Oe=P(),B(x.$$.fragment),this.h()},l(h){e=T(h,"DIV",{class:!0});var p=A(e);o=T(p,"DIV",{class:!0});var K=A(o);t=T(K,"DIV",{class:!0});var F=A(t);n=T(F,"H1",{class:!0,"data-svelte-h":!0}),me(n)!=="svelte-14x8zw5"&&(n.textContent=i),r=E(F),s=T(F,"BUTTON",{class:!0,"data-svelte-h":!0}),me(s)!=="svelte-z1208z"&&(s.textContent=f),m=E(F),J(u.$$.fragment,F),_=E(F),v=T(F,"P",{class:!0});var ce=A(v);V=O(ce,"Coordinates: "),N=O(ce,l[4]),ce.forEach(d),G=E(F),D=T(F,"P",{class:!0});var Ve=A(D);Y=O(Ve,"Position: "),z=O(Ve,j),Ve.forEach(d),U=E(F),g=T(F,"DIV",{class:!0,"data-svelte-h":!0}),me(g)!=="svelte-rycecv"&&(g.textContent=ee),F.forEach(d),I=E(K),a=T(K,"DIV",{class:!0});var le=A(a);W=T(le,"H1",{class:!0,"data-svelte-h":!0}),me(W)!=="svelte-2hrvkj"&&(W.textContent=qe),Me=E(le),te=T(le,"BUTTON",{class:!0,"data-svelte-h":!0}),me(te)!=="svelte-1iqxngh"&&(te.textContent=Re),Ne=E(le),J(X.$$.fragment,le),Pe=E(le),fe=T(le,"P",{class:!0});var Ge=A(fe);Ee=O(Ge,"watchedPosition: "),pe=O(Ge,Se),Ge.forEach(d),le.forEach(d),De=E(K),oe=T(K,"DIV",{class:!0});var Ie=A(oe);ae=T(Ie,"H1",{class:!0,"data-svelte-h":!0}),me(ae)!=="svelte-d6zbk5"&&(ae.textContent=Ue),He=E(Ie),ne=T(Ie,"BUTTON",{class:!0,"data-svelte-h":!0}),me(ne)!=="svelte-1xjhn5p"&&(ne.textContent=Ze),Ie.forEach(d),K.forEach(d),Oe=E(p),J(x.$$.fragment,p),p.forEach(d),this.h()},h(){w(n,"class","font-bold"),w(s,"class","btn btn-neutral"),w(v,"class","break-words text-left"),w(D,"class","break-words text-left"),w(g,"class","text-center font-medium text-red-500"),w(t,"class","col-span-3 md:col-span-1 text-center"),w(W,"class","font-bold"),w(te,"class","btn btn-neutral"),w(fe,"class","break-words text-left"),w(a,"class","col-span-3 md:col-span-1 text-center"),w(ae,"class","font-bold"),w(ne,"class","btn btn-neutral"),w(oe,"class","col-span-3 md:col-span-1 text-center"),w(o,"class","grid grid-cols-3"),w(e,"class","flex flex-col h-[calc(100vh-80px)] w-full")},m(h,p){k(h,e,p),b(e,o),b(o,t),b(t,n),b(t,r),b(t,s),b(t,m),q(u,t,null),b(t,_),b(t,v),b(v,V),b(v,N),b(t,G),b(t,D),b(D,Y),b(D,z),b(t,U),b(t,g),b(o,I),b(o,a),b(a,W),b(a,Me),b(a,te),b(a,Ne),q(X,a,null),b(a,Pe),b(a,fe),b(fe,Ee),b(fe,pe),b(o,De),b(o,oe),b(oe,ae),b(oe,He),b(oe,ne),b(e,Oe),q(x,e,null),ue=!0,Ae||(Ye=[Le(s,"click",l[13]),Le(te,"click",l[17]),Le(ne,"click",l[19])],Ae=!0)},p(h,p){const K={};p[0]&64&&(K.getPosition=h[6]),p[0]&1073741830|p[1]&3&&(K.$$scope={dirty:p,ctx:h}),!S&&p[0]&8&&(S=!0,K.position=h[3],ge(()=>S=!1)),!M&&p[0]&2&&(M=!0,K.success=h[1],ge(()=>M=!1)),!c&&p[0]&4&&(c=!0,K.error=h[2],ge(()=>c=!1)),u.$set(K),(!ue||p[0]&16)&&ie(N,h[4]),(!ue||p[0]&8)&&j!==(j=JSON.stringify(h[3])+"")&&ie(z,j);const F={};p[0]&128&&(F.getPosition=h[7]),X.$set(F),(!ue||p[0]&256)&&Se!==(Se=JSON.stringify(h[8])+"")&&ie(pe,Se);const ce={};p[0]&1569|p[1]&2&&(ce.$$scope={dirty:p,ctx:h}),!je&&p[0]&32&&(je=!0,ce.bounds=h[5],ge(()=>je=!1)),x.$set(ce)},i(h){ue||(y(u.$$.fragment,h),y(X.$$.fragment,h),y(x.$$.fragment,h),ue=!0)},o(h){C(u.$$.fragment,h),C(X.$$.fragment,h),C(x.$$.fragment,h),ue=!1},d(h){h&&d(e),R(u),R(X),R(x),Ae=!1,St(Ye)}}}function mo(l,e,o){let t=[{lngLat:{lng:144.98,lat:-37.805},label:"Marker 1",name:"This is a marker"},{lngLat:{lng:144.98,lat:-37.81},label:"Marker 2",name:"This is a marker"},{lngLat:{lng:144.96,lat:-37.81},label:"Marker 3",name:"This is a marker"}],n=xe(t);const i={enableHighAccuracy:!0,timeout:1/0,maximumAge:0};let r=!1,s=!1,f="",m={},u=[],S=!1,M={};function c(I,a,W){o(0,t=[...t,{lngLat:I.detail.lngLat,label:a,name:W}])}let _=!1,v;Ct(async()=>{const I=await fetch("melbourne.geojson");o(10,v=await I.json())});const V=()=>{o(6,r=!0)};function N(I){m=I,o(3,m)}function G(I){s=I,o(1,s)}function D(I){f=I,o(2,f)}const Y=()=>{o(7,S=!0)},j=I=>{o(8,M=I.detail)},z=()=>{o(9,_=!_)},U=()=>{o(5,n=xe(t))},g=I=>c(I,"Added","This is an added marker");function ee(I){n=I,o(5,n)}return l.$$.update=()=>{l.$$.dirty[0]&6&&(s||f)&&o(6,r=!1),l.$$.dirty[0]&27&&s&&(o(4,u=[m.coords.longitude,m.coords.latitude]),o(0,t=[...t,{lngLat:{lng:u[0],lat:u[1]},label:"Current",name:"This is the current position"}]))},[t,s,f,m,u,n,r,S,M,_,v,i,c,V,N,G,D,Y,j,z,U,g,ee]}class vo extends re{constructor(e){super(),se(this,e,mo,co,$,{},null,[-1,-1])}}export{vo as component,bo as universal};
